var sys = require('sys');
var fs = require('fs');
var util = require('util');
var Faker = require('../index');

var fact = [];
for (var i = 1; i <= Faker.config.yoyoContact.userAmount; i++) {
	var user = Faker.User.owner();
	var userInfo = user.owner;
	var userFact = user.fact;
	var tmp = {};
	var userId = i + '';
	tmp[userId] = {};
	tmp[userId].repeatContactsAmount = userFact[0];
	tmp[userId].similarContactsAmount = userFact[1];
	tmp[userId].diffContactsAmount = userFact[2];
	fact.push(tmp);
	fs.writeFile('./us' + i + '.json',  JSON.stringify(userInfo), function (err, data) {
		if (err) {
			console.log(err);
		}
	});
}
fs.writeFile('./fact.json',  JSON.stringify(fact), function (err, data) {
	if (err) {
		console.log(err);
	}
	else {
		sys.puts("data generate success");
	}
});


// 控制台输出最后一个用户的数据样式
// userInfo.contacts = userInfo.contacts.slice(0, 2);
util.puts(JSON.stringify(userInfo, null, '\t'));
util.puts(JSON.stringify(userFact));